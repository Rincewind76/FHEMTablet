<!DOCTYPE html>
<html>

<head>
    <!--
     /* FHEM tablet ui */
     /*
     * UI builder framework for FHEM
     *
     * Version: 2.5.*
     * URL: https://github.com/knowthelist/fhem-tablet-ui
     *
     * Copyright (c) 2015-2017 Mario Stephan <mstephan@shared-files.de>
     * Under MIT License (http://www.opensource.org/licenses/mit-license.php)
     *
     * - create a new folder named 'tablet' in /<fhem-path>/www
     * - copy all files incl. sub folders into /<fhem-path>/www/tablet
     * - add 'define TABLETUI HTTPSRV ftui ./www/tablet Tablet' in fhem.cfg
     * - Tadaaa! A new fhem ui in http://<fhem-url>:8083/fhem/tablet/
     */
    -->
    <link rel="icon" href="favicon.ico" type="image/x-icon" />


    <!-- define your personal style here, it wont be overwritten  -->
	<link rel="stylesheet" href="/fhem/tablet/css/fhem-tablet-ui.css" />

	<script type="text/javascript" src="/fhem/tablet/js/fhem-tablet-ui.js"></script>
	
    <title>FHEM-Tablet-UI</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes" />
	<meta name="mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-capable" content="yes">
    	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="debug" content="0"> <!-- 1=output to console;0=not output -->
	<meta name="gridster_disable" content="1">

	<meta name="longpoll" content="1">
	<meta name="longpoll_type" content="1">
	<meta name="longpoll_filter" content=".*">
	<meta name="longpoll_maxage" content="240">
	<meta name="shortpoll_interval" content="10">

	<meta name="gridster_cols" content="8">
	<meta name="gridster_rows" content="5">

	<meta name="widget_base_width" content="120">
	<meta name="widget_base_height" content="115">

	<!-- Enable this lines for usage with WebViewControl -->
	<script type="text/javascript" src="/fhem/pgm2/cordova-2.3.0.js"></script>
	<script type="text/javascript" src="/fhem/js/webviewcontrol.js"></script>
	<script type="text/javascript">var wvcDevices = {'523931': 'webtablet'}; var wvcUserCssFile="webviewcontrol.css"</script>
	<!-- End for WebViewControl -->
</head>

<body>
<div class="gridster">
       	<ul>
		<!-- Define Menue -->
		<li data-row="1" data-col="1" data-sizex="1" data-sizey="5" data-template="/fhem/tablet/templates/tmp_menue4.htm"></li>
		<li data-row="1" data-col="2" data-sizex="2" data-sizey="3">
			<header>PV Daten</header>
	<div class="newline top-space">
        	<div data-type="label" class="inline darker left">&nbsp;&nbsp;&nbsp;Status Inverter</div>
	        <div dataltype="label" class="inline darker">&nbsp;</div>
	        <div data-type="label" data-device="MySTP" data-get="INV_STATUS" data-unit="&nbsp;&nbsp;&nbsp;" class="inline right"></div>
	</div>

        <div class="newline">
                <div data-type="label" class="inline darker left">&nbsp;&nbsp;&nbsp;PV Kreis 1</div>
		<div data-type="label" data-device="MySTP" data-get="SPOT_IDC1" data-fix="1" data-unit="A" class="inline"></div>
                <div data-type="label" data-device="MySTP" data-get="SPOT_UDC1" data-fix="0" data-unit="V&nbsp;&nbsp;&nbsp;" class="inline right"></div>
        </div>

        <div class="newline">
                <div data-type="label" class="inline darker left">&nbsp;&nbsp;&nbsp;PV Kreis 2</div>
		<div data-type="label" data-device="MySTP" data-get="SPOT_IDC2" data-fix="1" data-unit="A" class="inline"></div>
                <div data-type="label" data-device="MySTP" data-get="SPOT_UDC2" data-fix="0" data-unit="V&nbsp;&nbsp;&nbsp;" class="inline right"></div>
        </div>

        <div class="newline">
                <div data-type="label" class="inline darker left">&nbsp;&nbsp;&nbsp;AC Phase 1</div>
                <div data-type="label" data-device="MySTP" data-get="SPOT_IAC1" data-fix="1" data-unit="A" class="inline"></div>
                <div data-type="label" data-device="MySTP" data-get="SPOT_UAC1" data-fix="0" data-unit="V&nbsp;&nbsp;&nbsp;" class="inline right"></div>
        </div>

        <div class="newline">
                <div data-type="label" class="inline darker left">&nbsp;&nbsp;&nbsp;AC Phase 2</div>
                <div data-type="label" data-device="MySTP" data-get="SPOT_IAC2" data-fix="1" data-unit="A" class="inline"></div>
                <div data-type="label" data-device="MySTP" data-get="SPOT_UAC2" data-fix="0" data-unit="V&nbsp;&nbsp;&nbsp;" class="inline right"></div>
        </div>

        <div class="newline">
                <div data-type="label" class="inline darker left">&nbsp;&nbsp;&nbsp;AC Phase 3</div>
                <div data-type="label" data-device="MySTP" data-get="SPOT_IAC3" data-fix="1" data-unit="A" class="inline"></div>
                <div data-type="label" data-device="MySTP" data-get="SPOT_UAC3" data-fix="0" data-unit="V&nbsp;&nbsp;&nbsp;" class="inline right"></div>
        </div>

        <div class="newline">
                <div data-type="label" class="inline darker left">&nbsp;&nbsp;&nbsp;Leistung</div>
                <div dataltype="label" class="inline darker">&nbsp;</div>
                <div data-type="label" data-device="MySTP" data-get="SPOT_PACTOT" data-unit="W&nbsp;&nbsp;&nbsp;" class="inline right"></div>
        </div>

        <div class="newline">
                <div data-type="label" class="inline darker left">&nbsp;&nbsp;&nbsp;Temperatur</div>
                <div dataltype="label" class="inline darker">&nbsp;</div>
                <div data-type="label" data-device="MySTP" data-get="INV_TEMP" data-fix="1" data-unit="%B0C%0A&nbsp;&nbsp;&nbsp;" class="inline right"></div>
        </div>

        <div class="newline">
                <div data-type="label" class="inline darker left">&nbsp;&nbsp;&nbsp;Energie (heute)</div>
                <div dataltype="label" class="inline darker">&nbsp;</div>
                <div data-type="label" data-device="MySTP" data-get="SPOT_ETODAY" data-fix="0" data-unit="Wh&nbsp;&nbsp;&nbsp;" class="inline right"></div>
        </div>


        <div class="newline top-space">
                <div data-type="label" class="inline darker left">&nbsp;&nbsp;&nbsp;Status Akku</div>
		<div dataltype="label" class="inline darker">&nbsp;</div>
                <div data-type="label" data-device="MySI" data-get="INV_STATUS" data-unit="&nbsp;&nbsp;&nbsp;" class="inline right"></div>
        </div>

        <div class="newline">
                <div data-type="label" class="inline darker left">&nbsp;&nbsp;&nbsp;Akku DC</div>
		<div data-type="label" data-device="MySI" data-get="BAT_IDC" data-fix="1" data-unit="A" class="inline"></div>
                <div data-type="label" data-device="MySI" data-get="BAT_UDC" data-fix="0" data-unit="V&nbsp;&nbsp;&nbsp;" class="inline right"></div>
        </div>

        <div class="newline">
                <div data-type="label" class="inline darker left">&nbsp;&nbsp;&nbsp;Netz AC</div>
                <div data-type="label" data-device="MySI" data-get="SPOT_IAC1" data-fix="1" data-unit="A" class="inline"></div>
                <div data-type="label" data-device="MySI" data-get="SPOT_UAC1" data-fix="0" data-unit="V&nbsp;&nbsp;&nbsp;" class="inline right"></div>
        </div>

        <div class="newline">
                <div data-type="label" class="inline darker left">&nbsp;&nbsp;&nbsp;Leistung</div>
                <div dataltype="label" class="inline darker">&nbsp;</div>
                <div data-type="label" data-device="MySI" data-get="SPOT_PACTOT" data-unit="W&nbsp;&nbsp;&nbsp;" class="inline right"></div>
        </div>

        <div class="newline">
                <div data-type="label" class="inline darker left">&nbsp;&nbsp;&nbsp;Temperatur</div>
		<div dataltype="label" class="inline darker">&nbsp;</div>
                <div data-type="label" data-device="MySI" data-get="BAT_TEMP" data-fix="1" data-unit="%B0C%0A&nbsp;&nbsp;&nbsp;" class="inline right"></div>
        </div>

        <div class="newline">
                <div data-type="label" class="inline darker left">&nbsp;&nbsp;&nbsp;Ladezyklen</div>
		<div dataltype="label" class="inline darker">&nbsp;</div>
                <div data-type="label" data-device="MySI" data-get="BAT_CYCLES" data-fix="0" data-unit="&nbsp;&nbsp;&nbsp;" class="inline right"></div>
        </div>



		</li>
                <li data-row="4" data-col="2" data-sizex="2" data-sizey="2">
                        <header>Verbraucher</header>
        <div class="cell top-space">
                <div data-type="label" class="inline darker left">&nbsp;&nbsp;&nbsp;Waschmaschine</div>
                <div dataltype="label" class="inline darker">&nbsp;</div>
                <div data-type="label" data-device="du.Waschmaschine" data-get="power" data-unit="W&nbsp;&nbsp;&nbsp;" class="inline right"></div>
        </div>
	
	
        <div class="cell newline">
                <div data-type="label" class="inline darker left">&nbsp;&nbsp;&nbsp;Trockner</div>
                <div dataltype="label" class="inline darker">&nbsp;</div>
                <div data-type="label" data-device="du.Trockner" data-get="power" data-unit="W&nbsp;&nbsp;&nbsp;" class="inline right"></div>
        </div>

        <div class="cell newline">
                <div data-type="label" class="inline darker left">&nbsp;&nbsp;&nbsp;Klimaanlage</div>
                <div dataltype="label" class="inline darker">&nbsp;</div>
                <div data-type="label" data-device="sz.Klima.Pwr" data-get="state" data-unit="W&nbsp;&nbsp;&nbsp;" class="inline right"></div>
        </div>

        <div class="cell newline">
                <div data-type="label" class="inline darker left">&nbsp;&nbsp;&nbsp;Kino</div>
                <div dataltype="label" class="inline darker">&nbsp;</div>
                <div data-type="label" data-device="kn.Entertain.Pwr" data-get="state" data-unit="W&nbsp;&nbsp;&nbsp;" class="inline right"></div>
        </div>

                </li>		
		<li data-row="1" data-col="4" data-sizex="5" data-sizey="2">
			<header>Produktion</header>
			<div data-type="chart"
			 	data-device="MyEM"
	 			data-logdevice="myDbLog"
	 			data-logfile="HISTORY"
	 			data-columnspec='["MySTP:SPOT_PACTOT","MySI:POWER_IN","MyEM:Einspeisung_Wirkleistung","MyEM:Bezug_Wirkleistung"]'
				data-legend='["PV Erzeugung","Akkuladung","Einspeisung","Netzbezug"]'
				data-style='["ftui l4","ftui l0","ftui l5","ftui l2"]'
				data-yunit="W" data-ytext="Leistung" data-height="210"
				data-showlegend="true" 
			</div>
		</li>
                <li data-row="3" data-col="4" data-sizex="5" data-sizey="1">
                        <div data-type="chart"
                                data-device="MyEM"
                                data-logdevice="myDbLog"
                                data-logfile="HISTORY"
                                data-columnspec='["MySI:ChargeStatus"]'
                                data-legend='["Akkuladung"]'
                                data-style='["ftui l0"]'
				data-minvalue="0" data-maxvalue="100"
                                data-yunit="%" data-ytext="Ladung" data-height="105"
                                data-showlegend="true"
                        </div>
                </li>
                <li data-row="4" data-col="4" data-sizex="5" data-sizey="2">
                        <header>Verbrauch</header>
                        <div data-type="chart"
                                data-device="MyEM"
                                data-logdevice="myDbLog"
                                data-logfile="HISTORY"
                                data-columnspec='["MySI:POWER_OUT","MyEM:Bezug_Wirkleistung","DirectConsumption:state"]'
                                data-legend='["Akkustrom","Netzbezug","Gesamtverbrauch"]'
                                data-style='["ftui l0","ftui l2","ftui l1"]'
                                data-yunit="W" data-ytext="Leistung" data-height="210"
                                data-showlegend="true"
                        </div>
                </li>
       	</ul>
</div>

</body>

</html>


